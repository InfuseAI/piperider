"use strict";(self.webpackChunk_infuseai_piperider_ui=self.webpackChunk_infuseai_piperider_ui||[]).push([[143],{5462:function(e,n,t){t.d(n,{B:function(){return u}});var i=t(82175),r=t(37932),o=t(33660),a=t(7615),l=t(46569),s=t(93354),d=t(15887),c=["title","children","allowModalPopup"];function u(e){var n=e.title,t=e.children,u=e.allowModalPopup,h=(0,r.Z)(e,c),x=(0,o.qY)();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.kC,(0,i.Z)((0,i.Z)({bg:"whiteAlpha.700",rounded:"md",onClick:function(){return u&&x.onOpen()}},h),{},{children:t})),u&&(0,d.jsx)(s.W,(0,i.Z)((0,i.Z)({},x),{},{size:"full",title:n,footer:(0,d.jsx)(a.kC,{mt:6,w:"100%",direction:"row",justify:"center",children:(0,d.jsx)(l.zx,{colorScheme:"blue",mr:3,onClick:x.onClose,children:"Close"})}),children:t}))]})}},45871:function(e,n,t){t.d(n,{UZ:function(){return x}});var i=t(82175),r=t(2397),o=t(6125),a=t(45505),l=t(32221),s=t(94361),d=t(58188),c=t(86252),u=t(15887),h="#4780A8";function x(e){var n=e.quantileData,t=e.animation,x=void 0!==t&&t;(0,c.Z)(),r.kL.register(o.LU,o.aS,r.f$,r.uw);var f=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=Object.assign({},n),r=(0,s.uB)(e),o=r.max,a=r.min,c=r.mean,u=r.q1,x=r.q3,f=[{text:"box region",fillStyle:d.k8},{text:"p50",fillStyle:h}];return(0,i.Z)({responsive:!0,maintainAspectRatio:!1,layout:{padding:10},indexAxis:"y",scales:{x:{offset:!0},y:{display:!1}},plugins:{legend:{position:"bottom",labels:{boxHeight:10,boxWidth:10,padding:15,generateLabels:function(){return f.map((function(e){return{lineWidth:0,text:e.text,fillStyle:e.fillStyle}}))}}},tooltip:{callbacks:{label:function(){var e=(0,l.J8)(a),n=(0,l.J8)(o),t=(0,l.J8)(c),i=(0,l.J8)(u),r=(0,l.J8)(x);return"MIN: ".concat(e," / P25: ").concat(i," / P50 (median): ").concat(t," / P75: ").concat(r," / MAX: ").concat(n)}}}}},t)}(n,{animation:x}),p=function(e){var n=(0,s.uB)(e),t=n.max,i=n.min,r=n.mean,o=n.q1,a=n.q3;return{labels:[""],datasets:[{data:[{min:i,q1:o,mean:r,q3:a,max:t,median:r,items:[],outliers:[]}],borderWidth:1,itemRadius:1,medianColor:h,meanBackgroundColor:h,backgroundColor:d.k8,borderColor:d.Q,hitPadding:10}]}}(n);return(0,u.jsx)(a.kL,{type:"boxplot",data:p,options:f,plugins:[r.De,r.u]},Date.now())}},55500:function(e,n,t){t.d(n,{$:function(){return pe}});var i=t(7615),r=t(1831),o=t(31756),a=t(15887),l=(0,o.createContext)(!1),s=function(e){var n=e.cloud,t=e.children;return(0,a.jsx)(l.Provider,{value:n,children:t})};var d=t(61431),c=t(33660),u=t(38723),h=t(88050),x=t(46569),f=t(53579),p=t(86629),v=t(40485),g=t(82904),m=t(52912),j=t(68794),b=t(64947),y=t(85525);function C(){return(0,a.jsxs)("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.5 1 h13 l.5.5 v13 l-.5.5 h-13 l-.5-.5 v-13l.5-.5zM2 2v4h-1v4h1v4h4v1h4v-1h4v-4h1v-4h-1v-4h-4v-1h-4v1h-4z"}),(0,a.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 11 a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}),(0,a.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:""})]})}function k(e){var n=e.items,t=e.singleOnly,r=(0,o.useState)(0),l=(0,d.Z)(r,2)[1],s=(0,g.TH)(),c=(0,d.Z)(s,2),u=c[0],h=c[1];if(!n)return(0,a.jsx)(a.Fragment,{});var x=function e(n){var t,i,r=(0,v.Z)(null!==(t=null===n||void 0===n?void 0:n.items)&&void 0!==t?t:[]);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(o.changeStatus)return!0;if(e(o))return!0}}catch(a){r.e(a)}finally{r.f()}return!1},f=function e(n){var r=n.type,o=n.name,s=n.items;if("folder"!==n.type||n.items&&0!==n.items.length){var d,c=!!n.expanded,f=s&&s.length>0,p=c?b.bTu:b.Tfp,v=n.changeStatus,g=!1;"added"===v?d=y.Nbv:"removed"===v?d=y.sFB:"changed"===v?d=y.UGs:"implicit"===v&&(d=C),c||v||!x(n)||(v="changed",d=y.UGs);var k,w=b.QoU;if("model"===r||"table"===r||"source"===r||"seed"===r)w=b.aCJ,g=0===(null!==(k=n.items)&&void 0!==k?k:[]).length;else if(r.startsWith("database"))w=b.bGz;else if(r.startsWith("schema"))w=b.QoU;else if(r.startsWith("column_")){var Z=r.slice("column_".length);w=(0,j.MM)(Z).icon}else"metric"===r||"metric_list"===r||"analysis"===r?w=m.NMh:"test_list"===r?w=b._rq:"exposure"===r?w=m.pPO:"overview"===r&&(w=m.xng);var S=n.path===u;return(0,a.jsxs)(i.HC,{children:[(0,a.jsxs)(i.kC,{_hover:{bg:S?"piperider.400":"gray.100"},rounded:"md",cursor:"pointer",fontSize:"sm",color:S?"white":g?"gray":"inherit",bg:S?"piperider.400":"inherit",onClick:function(){!function(e){e.items&&e.items.length>0&&(e.expanded=!e.expanded,l((function(e){return e+1}))),e.path&&h(e.path)}(n)},alignItems:"center",px:2,children:[(0,a.jsx)(i.DE,{as:p,visibility:f?"visible":"hidden"}),(0,a.jsx)(i.DE,{as:w,mr:1}),(0,a.jsx)(i.xv,{flex:1,children:o}),!t&&v&&(0,a.jsx)(i.DE,{as:d})]}),c&&s&&s.length>0&&(0,a.jsx)(i.aV,{ml:4,spacing:1,my:1,children:s.map((function(n){return e(n)}))})]},o)}};return(0,a.jsx)(i.aV,{spacing:2,children:n.map((function(e){return f(e)}))})}var w=t(82175),Z=t(11060),S=t(88081),O=t(21519),N=t(20177),M=t(96979),T=t(24333),_=(t(2309),t(21102)),D=t(67745),F=t(74389),L=t(97348),E=t(48685),z=t(5322),A=t(12599);function B(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"decimal";if(void 0!==e){if("decimal"===n)return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:2}).format(e);if("percent"===n)return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:2}).format(e);if("duration"===n){var t=e<0?"-":"",i=Math.abs(e),r=Math.floor(i%60),o=Math.floor(i/60%60),a=Math.floor(i/3600),l=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),s=new Intl.NumberFormat("en-US",{minimumIntegerDigits:2});return i<10?"".concat(t).concat(l.format(i),'"'):i<60?"".concat(t).concat(r,'"'):i<3600?"".concat(t).concat(o,"'").concat(s.format(r),'"'):"".concat(t).concat(a,"h").concat(s.format(o),"'").concat(s.format(r),'"')}}}function P(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"decimal",r=void 0!==n&&n.hasOwnProperty(t)?n[t]:void 0,o=void 0!==e&&e.hasOwnProperty(t)?e[t]:void 0,a=null!==r&&void 0!==r?r:o;if(void 0===a)return{};var l=B(a,i);if(void 0===o||void 0===r)return{statValue:a,statValueF:l};var s=r-o,d=B(s,i);return{statValue:a,statValueF:l,statDiff:s,statDiffF:d}}var H=t(70102),R="#1a7f37",W="#cf222e",G="#9a6700",I="darkorange",q=[["nulls_p","Missing%","percent"],["distinct_p","Distinct%","percent"],["duplicates_p","Duplicates%","percent"],["min","Min","decimal"],["max","Max","decimal"],["avg","Avg","decimal"],["min_length","Min Len.","decimal"],["max_length","Max Len.","decimal"],["avg_length","Avg Len.","decimal"]];function V(e){var n,t=e.baseColumn,r=e.targetColumn,o=e.stat,l=null!==r&&void 0!==r?r:t;if("string"===(null===l||void 0===l?void 0:l.type)&&("min"===o||"max"===o||"avg"===o))return(0,a.jsx)(a.Fragment,{});if("datetime"===(null===l||void 0===l?void 0:l.type)&&("min"===o||"max"===o))return(0,a.jsx)(a.Fragment,{});var s=null!==(n=q.find((function(e){return(0,d.Z)(e,1)[0]===o})))&&void 0!==n?n:[void 0,void 0,"decimal"],c=(0,d.Z)(s,3)[2],u=P(t,r,o,c),h=u.statValueF,x=u.statDiff,f=u.statDiffF;return(0,a.jsxs)(i.gC,{flex:"0 1 60px",alignItems:"flex-end",spacing:0,fontSize:"xs",children:[(0,a.jsx)(i.xv,{textAlign:"right",children:h}),void 0!==x&&(0,a.jsxs)(i.xu,{textAlign:"right",children:[x<0?(0,a.jsx)(A.AS,{}):(0,a.jsx)(A.$l,{}),f]})]})}function J(e){var n,t,r=e.singleOnly,l=e.isOpen,s=e.onClose,c=E.nq.getState().tableColumnsOnly,u=void 0===c?[]:c,x=(0,z.e$)().uniqueId,f=(0,o.useState)(q[0][0]),p=(0,d.Z)(f,2),v=p[0],g=p[1],m=null===(n=q.find((function(e){return(0,d.Z)(e,1)[0]===v})))||void 0===n?void 0:n[1];if(!l)return(0,a.jsx)(a.Fragment,{});var j=u.find((function(e){return(0,d.Z)(e,1)[0]===x}));if(!j)return(0,a.jsxs)(a.Fragment,{children:["`No data found for '$",x,"'`"]});var b=(0,d.Z)(j,2)[1],C=b.base,k=b.target||C;return null!==k&&void 0!==k&&k.__columns?(0,a.jsxs)(i.kC,{direction:"column",width:"100%",style:{background:"white",width:"600px",borderLeft:"1px solid lightgray"},children:[(0,a.jsx)(F.P,{onClick:function(){s&&s()}}),(0,a.jsx)(L.xJ,{width:"100%",children:(0,a.jsxs)(L.iA,{variant:"simple",size:"sm",children:[(0,a.jsx)(L.hr,{children:(0,a.jsxs)(L.Tr,{children:[!r&&(0,a.jsx)(L.Th,{width:0}),(0,a.jsx)(L.Th,{children:"Column"}),(0,a.jsx)(L.Th,{children:"Type"}),"all"!==v&&(0,a.jsx)(L.Th,{width:"100px",cursor:"pointer",children:(0,a.jsxs)(D.v2,{children:[(0,a.jsxs)(D.j2,{as:i.xv,children:[m,(0,a.jsx)(A.v4,{})]}),(0,a.jsxs)(D.qy,{children:[q.map((function(e){var n=(0,d.Z)(e,2),t=n[0],i=n[1];return(0,a.jsx)(D.sN,{onClick:function(){g(t)},children:i},t)})),(0,a.jsx)(D.R,{}),(0,a.jsx)(D.sN,{onClick:function(){g("all")},children:"All Stats"},"all")]})]})}),"all"===v&&q.map((function(e){var n=(0,d.Z)(e,2),t=n[0],i=n[1];return(0,a.jsx)(L.Th,{onClick:function(){g(t)},cursor:"pointer",children:i})}))]})}),(0,a.jsx)(L.p3,{children:null===k||void 0===k||null===(t=k.__columns)||void 0===t?void 0:t.map((function(e){var n,t,o,l,s=(0,d.Z)(e,3),c=s[0],u=s[1],x=u.base,f=u.target,p=(s[2],f||x),g=(0,E.MM)(null===p||void 0===p?void 0:p.type).icon,m=void 0;if(!r){var j=(0,H.zM)(x,f);"added"===j?(m=y.Nbv,l=R):"removed"===j?(m=y.sFB,l=W):"implicit"===j?(m=y.UGs,l=G):l="inherit"}return(0,a.jsxs)(L.Tr,{_hover:{bg:"blackAlpha.50",cursor:"inherit"},"data-cy":"table-list-schema-item",color:l,children:[!r&&(0,a.jsx)(L.Td,{children:m&&(0,a.jsx)(h.JO,{as:m})}),(0,a.jsx)(L.Td,{maxW:"200px",children:(0,a.jsxs)(i.xv,{as:"span",fontSize:"xs",noOfLines:1,whiteSpace:"nowrap",title:null!==(n=null===x||void 0===x?void 0:x.name)&&void 0!==n?n:E.Nj,children:[(0,a.jsx)(h.JO,{as:g,mr:"2"}),null!==(t=null===p||void 0===p?void 0:p.name)&&void 0!==t?t:E.Nj]})}),(0,a.jsx)(L.Td,{borderRightColor:"gray.200",children:(0,a.jsx)(i.xv,{as:"span",fontSize:"xs",children:null!==(o=null===p||void 0===p?void 0:p.schema_type)&&void 0!==o?o:E.Nj})}),"all"!==v&&(0,a.jsx)(L.Td,{borderRightColor:"gray.200",children:(0,a.jsx)(V,{baseColumn:x,targetColumn:f,stat:v})}),"all"===v&&q.map((function(e){var n=(0,d.Z)(e,1)[0];return(0,a.jsx)(L.Td,{borderRightColor:"gray.200",children:(0,a.jsx)(V,{baseColumn:x,targetColumn:f,stat:n})})}))]},c)}))})]})})]}):(0,a.jsx)(a.Fragment,{})}var U=t(41370);var K=t(73661),$=t.n(K),Q=300,Y=60,X=20,ee=function(){var e=(0,O.Z)((0,S.Z)().mark((function e(n,t){var i,r,o,a,l,s,c;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],o=[],a=[],l=t.isLayout||!0,s=t.layoutLibrary||"dagre",i="selected"===t.filterBy?new Set(re(n,t.selected)):"changed"===t.filterBy?new Set(ie(n)):new Set(Object.keys(n)),Object.entries(n).forEach((function(e){var n=(0,d.Z)(e,2),r=n[0],a=n[1];if(i.has(r)&&"test"!==a.type){var l={id:r,position:{x:0,y:0},data:(0,w.Z)((0,w.Z)({},a),t.nodeOverrides),draggable:!0,type:"customNode"};o.push(l)}})),o.forEach((function(e){var n=e.data;Object.entries(n.dependsOn).forEach((function(e){var r=(0,d.Z)(e,2),o=r[0],l=r[1];i.has(o)&&a.push({source:o,target:n.uniqueId,id:"".concat(n.uniqueId," -> ").concat(o),type:"customEdge",data:(0,w.Z)((0,w.Z)({},l),t.edgeOverrides)})}))})),t.groupBy&&o.forEach((function(e){var n=e.data,i=void 0,o=void 0;switch(t.groupBy){case"type":i="group-".concat(n.type),o=n.type;break;case"package":n.packageName&&(i="group-".concat(n.packageName),o=n.packageName);break;case"tag:piperider":n.tags.includes("piperider")&&(i="group-piperider",o="piperider");break;case"filepath":if(n.filePath&&n.filePath.split("/").length>1&&"model"===n.type){var a=n.filePath.split("/")[0];i="group-".concat(a),o=a}}i&&o&&(r.find((function(e){return e.id===i}))||r.push({id:i,position:{x:0,y:0},data:{label:"Group: ".concat(o)},type:"customGroup"}),e.parentNode=i,e.extent="parent",e.expandParent=!0,e.draggable=!1)})),c={nodes:r.concat(o),edges:a},l&&("dagre"===s?(r.length>0?ae(r,o,a,"LR"):oe(o,a,"LR"),c={nodes:r.concat(o),edges:a}):"subflow"===s&&(oe(o,a,"LR"),le(r,o))),e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),ne=function e(n,t){var i=n[t],r=[t];return Object.keys(i.dependsOn).length>0&&Object.keys(i.dependsOn).forEach((function(t){r.push.apply(r,(0,Z.Z)(e(n,t)))})),r},te=function e(n,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n[t],o=[];return i&&o.push(t),Object.keys(r.children).length>0&&Object.keys(r.children).forEach((function(t){o.push.apply(o,(0,Z.Z)(e(n,t,!0)))})),o},ie=function(e){var n=new Set,t=new Set;return Object.entries(e).forEach((function(i){var r=(0,d.Z)(i,2),o=r[0],a=r[1];if(void 0!==a.changeStatus&&null!==a.changeStatus){n.add(o);var l,s=(0,v.Z)(te(e,o));try{for(s.s();!(l=s.n()).done;){var c=l.value;t.add(c)}}catch(u){s.e(u)}finally{s.f()}}})),t.forEach((function(e){n.add(e)})),Array.from(n)},re=function(e,n){return n?[].concat((0,Z.Z)(ne(e,n)),(0,Z.Z)(te(e,n))):[]},oe=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"LR",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r="LR"===t,o=new($().graphlib.Graph);o.setDefaultEdgeLabel((function(){return{}})),o.setGraph({rankdir:t}),e.forEach((function(e){o.setNode(e.id,{width:Q,height:Y})})),n.forEach((function(e){o.setEdge(e.source,e.target)})),$().layout(o),e.forEach((function(e){var n=o.node(e.id);return e.targetPosition=r?"left":"top",e.sourcePosition=r?"right":"bottom",e.position={x:n.x-150+i,y:n.y-30+i},e}))},ae=function(e,n,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"LR",r="LR"===i,o=new($().graphlib.Graph);o.setDefaultEdgeLabel((function(){return{}})),o.setGraph({rankdir:i,nodesep:100,ranksep:100}),e.forEach((function(e){var r=n.filter((function(n){return n.parentNode===e.id})),a=t.filter((function(e){return r.map((function(e){return e.id})).includes(e.source)&&r.map((function(e){return e.id})).includes(e.target)}));oe(r,a,i,X);var l=Math.max.apply(Math,(0,Z.Z)(r.map((function(e){return e.position.x+Q}))))+X,s=Math.max.apply(Math,(0,Z.Z)(r.map((function(e){return e.position.y+Y}))))+X;o.setNode(e.id,{width:l,height:s}),e.style={width:l,height:s},t.forEach((function(n){a.includes(n)?n.data.group=e.id:n.data.group=void 0}))})),n.forEach((function(e){void 0===e.parentNode&&o.setNode(e.id,{width:Q,height:Y})})),t.forEach((function(e){var t,i;if(!e.data.group){var r=(null===(t=n.find((function(n){return n.id===e.source})))||void 0===t?void 0:t.parentNode)||e.source,a=(null===(i=n.find((function(n){return n.id===e.target})))||void 0===i?void 0:i.parentNode)||e.target;console.log("Group edge",r,a),o.setEdge(r,a)}})),$().layout(o),e.forEach((function(e){var n=o.node(e.id);e.targetPosition=r?N.Ly.Left:N.Ly.Top,e.sourcePosition=r?N.Ly.Right:N.Ly.Bottom,e.position={x:n.x-n.width/2,y:n.y-n.height/2}})),n.forEach((function(e){if(!e.parentNode){var n=o.node(e.id);e.targetPosition=r?N.Ly.Left:N.Ly.Top,e.sourcePosition=r?N.Ly.Right:N.Ly.Bottom,e.position={x:n.x-150,y:n.y-30}}}))},le=function(e,n){e.forEach((function(e){e.position.x=Math.min.apply(Math,(0,Z.Z)(n.filter((function(n){return n.parentNode===e.id})).map((function(e){return e.position.x}))))-X,e.position.y=Math.min.apply(Math,(0,Z.Z)(n.filter((function(n){return n.parentNode===e.id})).map((function(e){return e.position.y}))))-X,e.style={width:Math.max.apply(Math,(0,Z.Z)(n.filter((function(n){return n.parentNode===e.id})).map((function(e){return e.position.x+Q}))))-e.position.x+X,height:Math.max.apply(Math,(0,Z.Z)(n.filter((function(n){return n.parentNode===e.id})).map((function(e){return e.position.y+Y}))))-e.position.y},n.forEach((function(n){n.parentNode===e.id&&(n.position.x-=e.position.x,n.position.y-=e.position.y)}))}))},se=t(1352),de=t(95282),ce={customNode:function(e){var n,t,r,o,l,s,c,u=e.data,x=u.singleOnly,f=u.stat,p=u.isHighlighted,v=(0,g.TH)(),j=(0,d.Z)(v,1)[0],k=u.path===j,w=null===u||void 0===u?void 0:u.type,Z=!1,S="inherit",O=b.aCJ;"source"===w||"seed"===w||"model"===w?(S="#c0eafd",Z=void 0===(null===(r=null!==(l=u.target)&&void 0!==l?l:u.base)||void 0===r||null===(o=r.__table)||void 0===o?void 0:o.row_count)):"metric"!==w&&"exposure"!==w&&"analysis"!==w||(S="rgb(255 230 238)",O=m.NMh);var M=u.changeStatus,T="inherit",_="inherit",D="solid";x||("added"===M?(s=y.Nbv,c="added",T="#1a7f37",T=R,_=600,D="dashed"):"changed"===M?(s=y.UGs,c="explict change",T="#9a6700",T=G,_=600):"implicit"===M?(s=C,c="implicit change",T="#9a6700",T=G,_=600):"removed"===M?(s=y.sFB,c="removed",T=W,T="#cf222e",_=600,D="dashed"):T=Z?"gray":"black");var F=1,L=T,E="white",z="unset";k&&(F=1,L=I,E="piperider.400",T="white"),p&&(F=1,L=I,z="0px 5px 15px #00000040");var B,H,q=null===u||void 0===u?void 0:u.name,V={};if("execution_time"===f)V=P(null===u||void 0===u||null===(B=u.base)||void 0===B?void 0:B.__runResult,null===u||void 0===u||null===(H=u.target)||void 0===H?void 0:H.__runResult,"execution_time","duration");else if("row_count"===f){var J,K;V=P(null===u||void 0===u||null===(J=u.base)||void 0===J?void 0:J.__table,null===u||void 0===u||null===(K=u.target)||void 0===K?void 0:K.__table,"row_count","decimal")}var $=V,Q=$.statValue,Y=$.statValueF,X=$.statDiff,ee=$.statDiffF;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(i.kC,{width:"300px",_hover:{backgroundColor:k?E:"gray.100"},borderColor:L,borderWidth:F,borderStyle:D,backgroundColor:E,borderRadius:3,boxShadow:z,padding:0,children:[(0,a.jsx)(U.u,{label:w,children:(0,a.jsx)(i.kC,{backgroundColor:S,padding:2,borderRightWidth:F,borderColor:L,borderStyle:D,alignItems:"top",children:(0,a.jsx)(h.JO,{as:O})})}),(0,a.jsxs)(i.gC,{flex:"1 0 auto",mx:"1",color:T,width:"100px",children:[(0,a.jsxs)(i.kC,{width:"100%",textAlign:"left",flex:"1",fontWeight:_,p:1,alignItems:"center",children:[(0,a.jsx)(i.xu,{flex:"1",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:(0,a.jsx)(U.u,{label:q,children:q})}),!x&&M&&(0,a.jsx)(U.u,{label:c,children:(0,a.jsx)(i.kC,{children:(0,a.jsx)(h.JO,{color:T,as:s,fontWeight:_,flex:"0 0 20px"})})}),x&&f&&void 0!==Q&&(0,a.jsx)(i.xv,{fontWeight:"bold",textAlign:"right",fontSize:"sm",children:Y})]}),!x&&f&&void 0!==Q&&(0,a.jsx)(i.xu,{width:"100%",children:(0,a.jsxs)(i.xv,{fontWeight:"bold",textAlign:"right",fontSize:"sm",children:[Y,"\xa0",void 0!==X&&(0,a.jsxs)(i.xv,{as:"span",color:X<0?k?"white":"red.500":k?"green.200":"green.500",children:[X<0?(0,a.jsx)(A.AS,{}):(0,a.jsx)(A.$l,{}),ee]})]})})]}),Object.keys(null!==(n=null===u||void 0===u?void 0:u.dependsOn)&&void 0!==n?n:{}).length>0&&(0,a.jsx)(N.HH,{type:"target",position:N.Ly.Left}),Object.keys(null!==(t=null===u||void 0===u?void 0:u.children)&&void 0!==t?t:{}).length>0&&(0,a.jsx)(N.HH,{type:"source",position:N.Ly.Right})]})})},customGroup:function(e){var n=e.data;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(i.kC,{style:{height:"100%",position:"relative",backgroundColor:"#B3B3B340",borderRadius:"5px"},children:(0,a.jsx)("label",{style:{position:"absolute",bottom:0,right:0,textAlign:"right",margin:"5px"},children:n.label})})})}},ue={customEdge:function(e){var n=e.sourceX,t=e.sourceY,i=e.targetX,r=e.targetY,o=e.sourcePosition,l=e.targetPosition,s=e.style,c=void 0===s?{}:s,u=e.markerEnd,h=e.data,x=(0,w.Z)({},c);x.storke="gray",null!==h&&void 0!==h&&h.singleOnly||(null!==h&&void 0!==h&&h.from.includes("target")?null!==h&&void 0!==h&&h.from.includes("base")||(x.stroke=R,x.strokeDasharray="5"):(x.stroke=W,x.strokeDasharray="5")),null!==h&&void 0!==h&&h.isHighlighted&&(x.stroke=I);var f=(0,N.OQ)({sourceX:n,sourceY:t,sourcePosition:o,targetX:i,targetY:r,targetPosition:l}),p=(0,d.Z)(f,1)[0];return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(N.u5,{path:p,markerEnd:u,style:(0,w.Z)((0,w.Z)({},x),c)})})}};function he(e){var n=e.singleOnly,t=(0,N._K)(),r=p.n.getState().lineageGraph,l=void 0===r?{}:r,s=(0,N.Rr)([]),u=(0,d.Z)(s,3),h=u[0],f=u[1],v=u[2],m=(0,N.ll)([]),j=(0,d.Z)(m,3),b=j[0],y=j[1],C=j[2],k=(0,c.qY)(),F=k.isOpen,L=k.onOpen,E=k.onClose,B=(0,z.e$)().uniqueId,P=(0,g.TH)(),H=(0,d.Z)(P,2)[1],R=(0,o.useState)(n?void 0:"changed"),W=(0,d.Z)(R,2),G=W[0],I=W[1],q=(0,o.useState)(B),V=(0,d.Z)(q,2),U=V[0],K=V[1],$=(0,o.useState)("dagre"),Q=(0,d.Z)($,2),Y=Q[0],X=Q[1],ie=(0,o.useState)(""),re=(0,d.Z)(ie,2),oe=re[0],ae=re[1],le=(0,o.useState)(""),he=(0,d.Z)(le,2),xe=he[0],fe=he[1];(0,se.m)({eventName:de.FP.PAGE_VIEW,eventProperties:{type:n?de.ll:de.bB,page:"lineage-graph"}});var pe=(0,o.useCallback)((function(e,n){var t=n.data;null!==t&&void 0!==t&&t.path&&H((null===t||void 0===t?void 0:t.path)||""),"source"!==t.type&&"seed"!==t.type&&t.type}),[L]),ve=(0,o.useCallback)((function(){I("changed")}),[I]),ge=(0,o.useCallback)((function(){K(B),I("selected")}),[B,K,I]),me=(0,o.useCallback)((function(){I(void 0)}),[I]),je=(0,o.useCallback)((function(){I(n?void 0:"changed"),ae(""),X("dagre"),fe(""),t.fitView({maxZoom:1})}),[I,ae,X,fe,t,n]);return(0,o.useEffect)((function(){var e=function(){var e=(0,O.Z)((0,S.Z)().mark((function e(){var i,r,o;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(l,{nodeOverrides:{singleOnly:n||!1,isHighlighted:!1,stat:oe},edgeOverrides:{singleOnly:n||!1},layoutLibrary:Y,filterBy:G,selected:U,groupBy:xe||void 0});case 2:i=e.sent,r=i.nodes,o=i.edges,f(r),y(o),setTimeout((function(){return t.fitView({maxZoom:1})}),0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[l,f,y,n,Y,xe,oe,G,U,t]),(0,a.jsxs)(i.kC,{flexDirection:"column",style:{width:"100%",height:"calc(100vh - 160px)"},children:[(0,a.jsxs)(i.kC,{flex:"1",children:[(0,a.jsxs)(N.x$,{nodes:h,edges:b,nodeTypes:ce,edgeTypes:ue,onNodesChange:v,onEdgesChange:C,onNodeClick:pe,onNodeMouseEnter:function(e,n){return function(e){var n=[].concat((0,Z.Z)(ne(l,e.id)),(0,Z.Z)(te(l,e.id))),t=b.filter((function(e){return n.includes(e.source)&&n.includes(e.target)}));y(b.map((function(e){return t.includes(e)?(0,w.Z)((0,w.Z)({},e),{},{data:(0,w.Z)((0,w.Z)({},e.data),{},{isHighlighted:!0})}):e}))),f(h.map((function(e){return n.includes(e.id)?(0,w.Z)((0,w.Z)({},e),{},{data:(0,w.Z)((0,w.Z)({},e.data),{},{isHighlighted:!0})}):e})))}(n)},onNodeMouseLeave:function(){return y(b.map((function(e){return(0,w.Z)((0,w.Z)({},e),{},{data:(0,w.Z)((0,w.Z)({},e.data),{},{isHighlighted:!1})})}))),void f(h.map((function(e){return(0,w.Z)((0,w.Z)({},e),{},{data:(0,w.Z)((0,w.Z)({},e.data),{},{isHighlighted:!1})})})))},onNodeContextMenu:function(e,n){e.preventDefault(),console.log("context menu")},minZoom:.1,fitView:!0,children:[(0,a.jsx)(M.Z,{showInteractive:!1}),(0,a.jsx)(T.a,{nodeStrokeWidth:3,zoomable:!0,pannable:!0}),void 0!==G&&(0,a.jsx)(N.s_,{position:"top-left",children:(0,a.jsxs)(i.xv,{fontSize:"sm",children:["selected"===G&&(h.length>0?"Active node and its depedencies.":"No active node."),"changed"===G&&(h.length>0?"Changed nodes and their downstreams.":"No changed nodes found.")," ",(0,a.jsx)(i.rU,{color:"blue",onClick:function(){me()},children:"Show all nodes"})]})})]}),(0,a.jsx)(J,{singleOnly:n,isOpen:F,onClose:E})]}),(0,a.jsxs)(i.kC,{flex:"0 0 60px",bg:"gray.100",gap:3,px:10,py:2,border:"0px solid lightgray",borderTopWidth:1,alignItems:"center",children:[(0,a.jsxs)(i.xu,{p:2,children:[(0,a.jsx)(i.xv,{fontSize:"sm",color:"gray",children:"Stat"}),(0,a.jsxs)(_.Ph,{value:oe,fontSize:"sm",variant:"unstyled",onChange:function(e){var n=e.target.value||"";ae(n)},children:[(0,a.jsx)("option",{value:"",children:"No stat"}),(0,a.jsx)("option",{value:"execution_time",children:"Execution time"}),(0,a.jsx)("option",{value:"row_count",children:"Row count"})]})]}),(0,a.jsx)(i.LZ,{}),(0,a.jsxs)(x.hE,{size:"sm",isAttached:!0,variant:"outline",borderRadius:"md",borderWidth:"1px",children:[(0,a.jsx)(x.zx,{_hover:{bg:"gray.200"},onClick:je,children:"Reset"}),(0,a.jsxs)(D.v2,{children:[(0,a.jsx)(D.j2,{as:x.hU,icon:(0,a.jsx)(A.v4,{}),_hover:{bg:"gray.200"}}),(0,a.jsxs)(D.qy,{children:[(0,a.jsx)(D.sN,{fontSize:"sm",onClick:me,children:"All nodes"}),!n&&(0,a.jsx)(D.sN,{fontSize:"sm",onClick:ve,children:"Change only"}),(0,a.jsx)(D.sN,{fontSize:"sm",onClick:ge,children:"Focus active"})]})]})]})]})]})}function xe(e){var n=e.singleOnly;return(0,a.jsx)(N.tV,{children:(0,a.jsx)(he,{singleOnly:n})})}function fe(e){var n=e.singleOnly,t=p.n.getState(),r=t.isLegacy,s=t.projectTree,v=t.databaseTree,j=t.expandTreeForPath,b=(0,g.TH)(),y=(0,d.Z)(b,1)[0],C=(0,o.useState)(-1),w=(0,d.Z)(C,2),Z=w[0],S=w[1],O=(0,c.qY)(),N=O.isOpen,M=O.onOpen,T=O.onClose,_=(0,o.useContext)(l);return(0,o.useEffect)((function(){"/ssr"!==y&&Z<0&&(j(y),S(0))}),[y,Z,j]),r?(0,a.jsx)(i.xu,{mt:5,children:(0,a.jsx)(k,{items:s,singleOnly:n})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(u.mQ,{index:Z,onChange:function(e){j(y),S(e)},children:[(0,a.jsxs)(u.td,{children:[(0,a.jsxs)(u.OK,{children:[(0,a.jsx)(h.JO,{as:m.$nz,mr:2}),"Project"]}),(0,a.jsxs)(u.OK,{children:[(0,a.jsx)(h.JO,{as:m.i1q,mr:2}),"Database"]})]}),(0,a.jsxs)(u.nP,{children:[(0,a.jsx)(u.x4,{children:(0,a.jsx)(k,{items:s,singleOnly:n})}),(0,a.jsx)(u.x4,{children:(0,a.jsx)(k,{items:v,singleOnly:n})})]})]}),_&&(0,a.jsx)(x.zx,{style:{position:"fixed",bottom:0,right:0},onClick:M,children:"Show Graph"}),(0,a.jsxs)(f.u_,{isOpen:N,onClose:T,size:"xl",children:[(0,a.jsx)(f.ZA,{}),(0,a.jsxs)(f.hz,{maxW:"calc(100vw - 200px)",backgroundColor:"#f6f6f6",children:[(0,a.jsxs)(f.xB,{borderBottom:2,backgroundColor:"gray.100",border:"0 solid lightgray",borderBottomWidth:1,children:[(0,a.jsx)(i.xv,{fontSize:"sm",children:"Lineage Graph"}),(0,a.jsx)(f.ol,{})]}),(0,a.jsx)(f.fe,{p:0,children:(0,a.jsx)(xe,{singleOnly:n})})]})]})]})}function pe(e){var n=e.children,t=e.sideNavTop,o=void 0===t?"0px":t,l=e.cloud,d=e.singleOnly;return(0,a.jsx)(s,{cloud:!0===l,children:(0,a.jsxs)(i.rj,{width:"100%",h:"100%",templateColumns:"minmax(200px, 400px) 1px minmax(420px, 100%)",children:[(0,a.jsx)(i.P4,{overflowY:"auto",position:"sticky",top:o,maxHeight:"calc(100vh - ".concat(o,")"),children:(0,a.jsx)(fe,{singleOnly:d})}),(0,a.jsx)(i.iz,{orientation:"vertical"}),(0,a.jsx)(i.P4,{maxHeight:r.t4,width:"100%",h:"100%",p:9,children:n})]})})}},11288:function(e,n,t){t.d(n,{T:function(){return l}});var i=t(7615),r=t(46569),o=t(82904),a=t(15887);function l(){return(0,a.jsxs)(i.kC,{direction:"column",width:"100%",minH:"100vh",justifyContent:"center",alignItems:"center",children:[(0,a.jsx)(i.X6,{fontSize:"3xl",children:"404, Not Found!"}),(0,a.jsx)(r.zx,{mt:4,children:(0,a.jsx)(o.rU,{href:"/",children:"Back to Home"})})]})}},26564:function(e,n,t){t.d(n,{O:function(){return C}});var i=t(82175),r=t(61431),o=t(37932),a=t(12599),l=t(33660),s=t(7615),d=t(97348),c=t(34054),u=t(41370),h=t(6783),x=t(94240),f=t(31756),p=t(1831),v=t(89408),g=t(53554),m=t(83512),j=t(15887),b=["comparableAssertions","filterByTableOnly","filterString","setFilterString","caseSensitiveFilter","singleOnly","tableSize"],y=["status"];function C(e){var n=e.comparableAssertions,t=e.filterByTableOnly,C=e.filterString,k=void 0===C?"":C,w=(e.setFilterString,e.caseSensitiveFilter),Z=e.singleOnly,S=e.tableSize,O=(0,o.Z)(e,b),N=(0,l.qY)(),M=(0,h.Cl)(),T=(0,f.useState)([]),_=(0,r.Z)(T,2),D=_[0],F=_[1],L=(0,f.useState)([]),E=(0,r.Z)(L,2),z=E[0],A=E[1],B=(0,f.useState)(),P=(0,r.Z)(B,2),H=P[0],R=P[1];(0,f.useEffect)((function(){var e,t=(null===n||void 0===n||null===(e=n.target)||void 0===e?void 0:e.map((function(e,t){var r,a,l=(null===n||void 0===n||null===(r=n.base)||void 0===r?void 0:r[t])||{},s=(l.status,(0,o.Z)(l,y)),d=null===n||void 0===n||null===(a=n.base)||void 0===a?void 0:a[t];return(0,i.Z)((0,i.Z)({},e||s||{}),{},{status:Z?null===d||void 0===d?void 0:d.status:null===e||void 0===e?void 0:e.status,baseStatus:null===d||void 0===d?void 0:d.status,baseRef:d,targetStatus:null===e||void 0===e?void 0:e.status,targetRef:e})})).sort((function(e){return"failed"===e.status?-1:1})))||[];F(t)}),[]);var W=Z?[M.accessor("status",{cell:function(e){return e.getValue()},header:"Status",enableGlobalFilter:!1})]:[M.accessor("baseStatus",{cell:function(e){return e.getValue()},header:"Base Status",enableGlobalFilter:!1}),M.accessor("targetStatus",{cell:function(e){return e.getValue()},header:"Target Status",enableGlobalFilter:!1})],G=Z?[M.accessor("expected",{cell:function(e){return e.getValue()},header:"Expected"}),M.accessor("actual",{cell:function(e){return"dbt"===e.row.original.source?e.row.original.message:e.getValue()},header:"Actual"})]:[],I=(0,f.useMemo)((function(){return[].concat(W,[{accessorFn:function(e){var n,t;return"".concat(null!==(n=e.table)&&void 0!==n?n:"",".").concat(null!==(t=e.column)&&void 0!==t?t:"")},id:"testSubject",header:"Test Subject"},M.accessor("name",{cell:function(e){var n,t;return null!==(n=null!==(t=e.row.original.display_name)&&void 0!==t?t:e.getValue())&&void 0!==n?n:e.row.original.id},header:"Assertion"})],G,[M.accessor("source",{cell:function(e){return e.getValue()},header:"Source",enableGlobalFilter:!1})])}),[]),q=(0,x.b7)({columns:I,data:D,getCoreRowModel:(0,h.sC)(),getSortedRowModel:(0,h.tj)(),onSortingChange:A,state:{sorting:z}});return 0===D.length?(0,j.jsx)(s.kC,{direction:"column",justifyContent:"center",alignItems:"center",children:(0,j.jsx)(m.J,{text:"No Tests Available"})}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.xJ,(0,i.Z)((0,i.Z)({},O),{},{children:(0,j.jsxs)(d.iA,{variant:"simple",size:S,children:[(0,j.jsx)(d.hr,{children:(0,j.jsxs)(d.Tr,{children:[q.getFlatHeaders().map((function(e){var n=(0,j.jsx)(c.m$.span,{pl:"4",pos:"absolute",right:0,children:e.column.getIsSorted()?"desc"===e.column.getIsSorted()?(0,j.jsx)(a.AS,{"aria-label":"sorted descending"}):(0,j.jsx)(a.$l,{"aria-label":"sorted ascending"}):null}),t=Boolean(e.id.match(/status/gi));return(0,j.jsxs)(d.Th,{pos:"relative",onClick:e.column.getToggleSortingHandler(),_hover:{cursor:"pointer"},textAlign:t?"center":"left",px:t?0:2,children:[(0,x.ie)(e.column.columnDef.header,e.getContext()),n]},e.id)})),!Z&&(0,j.jsx)(d.Th,{textAlign:"center",children:"View"})]})}),(0,j.jsx)(d.p3,{children:q.getSortedRowModel().rows.filter((function(e){var n=e.original,i=new RegExp(k,"g".concat(w?"":"i"));return t?(n.table||"")===k:!k||(((null===n||void 0===n?void 0:n.name)||"").search(i)>-1||(n.table||"").search(i)>-1||(n.column||"").search(i)>-1)})).map((function(e){var n,t=e.original,i=t.id,r=t.table,o=t.column,a=t.name,l=t.expected,c=t.actual,h=t.source,x=t.targetStatus,f=t.baseStatus,g=t.baseRef,m=t.targetRef,b=t.message,y=t.display_name,C="".concat(null!==r&&void 0!==r?r:"").concat(o?"."+o:""),k=(0,p.sG)(l),w=(0,p.sG)("piperider"===h?c:b),S=null!==(n=null!==y&&void 0!==y?y:a)&&void 0!==n?n:i;return(0,j.jsxs)(d.Tr,{children:[(0,j.jsx)(d.Td,{children:(0,j.jsx)(s.kC,{justifyContent:"center",children:(0,j.jsx)(v.Op,{status:f})})}),!Z&&(0,j.jsx)(d.Td,{children:(0,j.jsx)(s.kC,{justifyContent:"center",children:(0,j.jsx)(v.Op,{status:x})})}),(0,j.jsx)(d.Td,{maxWidth:"16em",px:2,children:(0,j.jsx)(u.u,{label:C,children:(0,j.jsx)(s.xv,{fontSize:"sm",noOfLines:1,textOverflow:"ellipsis",children:C})})}),(0,j.jsx)(d.Td,{maxWidth:"16em",px:2,children:(0,j.jsx)(u.u,{label:S,children:(0,j.jsx)(s.xv,{noOfLines:1,textOverflow:"ellipsis",children:S})})}),Z&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.Td,{px:2,children:(0,j.jsx)(u.u,{label:k,children:(0,j.jsx)(s.EK,{maxWidth:"14em",noOfLines:1,color:"gray.700",children:k})})}),(0,j.jsx)(d.Td,{px:2,children:(0,j.jsx)(u.u,{label:w,children:(0,j.jsx)(s.EK,{maxWidth:"14em",noOfLines:1,color:(Z?"failed"===f:"failed"===x)?"red.500":"gray.700",children:w})})})]}),(0,j.jsx)(d.Td,{px:2,children:h}),!Z&&(0,j.jsx)(d.Td,{textAlign:"center",onClick:function(){R({assertionSource:h||(null===g||void 0===g?void 0:g.source),assertionName:a||(null===g||void 0===g?void 0:g.name),base:g,target:m}),N.onOpen()},children:(0,j.jsx)(s.xv,{as:"span",cursor:"pointer",children:"\ud83d\udd0d"})})]},e.id)}))})]})})),(0,j.jsx)(g.E,(0,i.Z)((0,i.Z)({},N),{},{data:H,onClose:function(){N.onClose(),R(void 0)}}))]})}},44163:function(e,n,t){t.d(n,{l:function(){return j}});var i=t(61431),r=t(12599),o=t(7615),a=t(26468),l=t(41370),s=t(88050),d=t(21102),c=t(31756),u=t(48685),h=t(11060),x=t(2397),f=t(45505),p=(t(78989),t(4911)),v=t(15887);function g(e){var n,t=e.data,r=void 0===t?[]:t,o=e.isHorizontal,a=e.stacked,l=e.hasDimensions;x.kL.register(x.ZL,x.f$,x.uw,x.u);var s=[],d=Array.from(u.Uh.values()),c=!l&&2===r.length;r.forEach((function(e,t){var r,o=(null!==e&&void 0!==e?e:{}).data,a=void 0===o?[]:o,l=p.zip.apply(void 0,(0,h.Z)(a)),u=(0,i.Z)(l,2),x=u[0],f=u[1];n=null!==(r=n)&&void 0!==r?r:x;var v=(void 0===f?[]:f).map((function(e){return Number(null!==e&&void 0!==e?e:void 0)})),g=c?0===t?"Base":"Target":null===e||void 0===e?void 0:e.label;s.push({label:g,data:v,borderColor:d[t],backgroundColor:d[t]+"50"})}));var g={responsive:!0,maintainAspectRatio:!1,indexAxis:o?"y":"x",plugins:{tooltip:{mode:"index",position:"nearest",intersect:!1,callbacks:{title:function(e){var n=(0,i.Z)(e,1)[0].label,t=n.lastIndexOf(",");return n.slice(0,t)},labelColor:function(e){var n=e.datasetIndex;return{borderColor:u.wC,backgroundColor:d[n]}}}},legend:{position:"bottom",labels:{padding:10,boxWidth:30,generateLabels:function(e){return e.data.datasets.map((function(e,n){return{fillStyle:d[n],text:"".concat(e.label)}}))}}}},scales:{x:{stacked:a},y:{stacked:a}}},m={datasets:s,labels:n};return(0,v.jsx)(f.$Q,{plugins:[x.De],data:m,options:g})}function m(e){var n=e.data,t=void 0===n?[]:n,r=e.timeGrain,o=e.fill,a=e.stacked,l=e.hasDimensions;x.kL.register(x.jn,x.od,x.RM,x.f$,x.uw,x.Gu,x.u);var s=[],d=Array.from(u.Uh.values()),c=!l&&2===t.length;t.forEach((function(e,n){var t=(null!==e&&void 0!==e?e:{}).data,r=void 0===t?[]:t,a=p.zip.apply(void 0,(0,h.Z)(r)),l=(0,i.Z)(a,2),x=l[0],f=l[1],v=(void 0===f?[]:f).map((function(e,n){return{x:x[n],y:Number(null!==e&&void 0!==e?e:void 0)}})),g=c?0===n?"Base":"Target":null===e||void 0===e?void 0:e.label;s.push({label:g,data:v,borderColor:d[n],pointBackgroundColor:d[n],spanGaps:!0,fill:o,backgroundColor:d[n]+"50",segment:{borderColor:function(e){return(0,u.im)(e,"rgb(0,0,0,0.2)")},borderDash:function(e){return(0,u.im)(e,[6,6])},backgroundColor:function(e){return(0,u.im)(e,"rgb(0,0,0,0.1)")}}})}));var g={responsive:!0,maintainAspectRatio:!1,plugins:{filler:{},tooltip:{mode:"index",position:"nearest",intersect:!1,callbacks:{title:function(e){var n=(0,i.Z)(e,1)[0].label,t=n.lastIndexOf(",");return n.slice(0,t)},labelColor:function(e){var n=e.datasetIndex;return{borderColor:u.wC,backgroundColor:d[n]}}}},legend:{position:"bottom",labels:{padding:10,boxWidth:30,generateLabels:function(e){return e.data.datasets.map((function(e,n){return{fillStyle:d[n],text:"".concat(e.label)}}))}}}},scales:{x:{type:"time",time:{unit:r}},y:{stacked:a}}},m={datasets:s};return(0,v.jsx)(f.x1,{plugins:[x.De],data:m,options:g})}function j(e){var n=e.data,t=n.base,u=n.target,h=e.singleOnly,x=(0,c.useState)("line"),f=(0,i.Z)(x,2),p=f[0],g=f[1],m=u||t,j=null===m||void 0===m?void 0:m.grain,y="-",C="-";if(m&&m.data.length>0){var k=null===m||void 0===m?void 0:m.data[0],w=null===m||void 0===m?void 0:m.data[m.data.length-1];y=String(k[0]),C=String(w[0])}return(0,v.jsxs)(o.xu,{p:3,children:[(0,v.jsxs)(o.xu,{pb:3,children:[(0,v.jsxs)(o.kC,{className:"widget-header",alignItems:"center",gap:2,mb:2,justifyContent:"space-between",children:[(0,v.jsxs)(o.kC,{alignItems:"center",gap:2,children:[(0,v.jsx)(a.Vp,{colorScheme:"blue",variant:"subtle",fontWeight:"medium",children:null===m||void 0===m?void 0:m.label}),(0,v.jsx)(l.u,{shouldWrapChildren:!0,label:null===m||void 0===m?void 0:m.description,placement:"right",children:(0,v.jsx)(s.JO,{as:r.sz})})]}),(0,v.jsx)(d.Ph,{w:"initial",size:"sm",value:p,onChange:function(e){return g(e.currentTarget.value)},children:[{type:"line",displayName:"Line Chart"},{type:"y-bar",displayName:"Bar Chart"}].map((function(e){return(0,v.jsx)("option",{value:e.type,children:e.displayName},e.type)}))})]}),(0,v.jsx)(o.kC,{children:(0,v.jsxs)(o.xv,{color:"gray.500",fontSize:"sm",children:["from ",y," to ",C]})})]}),(0,v.jsx)(o.kC,{h:"300px",maxW:"98%",children:b({selectedBMChartType:p,comparableBMData:{base:t,target:u},singleOnly:h,timeGrain:j})})]})}function b(e){var n=e.selectedBMChartType,t=e.singleOnly,i=e.timeGrain,r=e.comparableBMData,o=null!==r&&void 0!==r?r:{},a=o.base,l=o.target,s=t?[a]:[a,l];return"line"===n?(0,v.jsx)(m,{data:s,timeGrain:i}):"stacked-line"===n?(0,v.jsx)(m,{data:s,timeGrain:i,fill:!0,stacked:!0}):"y-bar"===n?(0,v.jsx)(g,{data:s}):"stacked-y-bar"===n?(0,v.jsx)(g,{data:s,stacked:!0}):"x-bar"===n?(0,v.jsx)(g,{data:s,isHorizontal:!0}):"stacked-x-bar"===n?(0,v.jsx)(g,{data:s,stacked:!0,isHorizontal:!0}):(0,u.Jt)()}},67708:function(e,n,t){t.d(n,{r:function(){return v}});var i=t(82175),r=t(37932),o=t(61431),a=t(7615),l=t(38723),s=t(90225),d=t.n(s),c=t(94361),u=t(5462),h=t(24777),x=t(31756),f=t(15887),p=["columnDatum","chartKind"];function v(e){var n=e.columnDatum,t=n||{},s=t.type,v=t.topk,g=t.histogram,m=t.trues,j=t.falses,b=(0,x.useState)(0),y=(0,o.Z)(b,2),C=y[0],k=y[1],w=d()(m)&&d()(j),Z=v&&s,S=g&&s,O="other"===s,N=w||S||Z||O,M="string"===s?h.d4:"Histogram";function T(e){var n=e.columnDatum,t=e.chartKind,o=(0,r.Z)(e,p);return(0,f.jsx)(u.B,(0,i.Z)((0,i.Z)({px:0,title:null===n||void 0===n?void 0:n.name},o),{},{children:(0,c.SH)(n,t)}))}function _(e){return"string"===typeof e&&["inf","-inf","nan"].includes(e)}return(0,f.jsx)(a.xu,{pb:10,width:"100%",children:N?(0,f.jsxs)(l.mQ,{isLazy:!0,index:C,onChange:function(e){return k(e)},children:[(0,f.jsxs)(l.td,{children:[Z&&(0,f.jsx)(l.OK,{children:"Top Categories"}),S&&(0,f.jsx)(l.OK,{children:M}),w&&(0,f.jsx)(l.OK,{children:"Boolean"}),O&&(0,f.jsx)(l.OK,{children:"Other"})]}),(0,f.jsxs)(l.nP,{children:[Z&&(0,f.jsx)(l.x4,{px:0,children:(0,f.jsx)(T,{columnDatum:n,chartKind:"topk"})}),S&&(0,f.jsx)(l.x4,{px:0,children:(0,f.jsx)(T,{columnDatum:n,chartKind:"histogram",minHeight:"300px",maxHeight:"300px"})}),w&&(0,f.jsx)(l.x4,{px:0,children:(0,f.jsx)(T,{columnDatum:n,chartKind:"pie",minHeight:"300px",maxHeight:"300px"})}),O&&(0,f.jsx)(l.x4,{px:0,children:(0,f.jsx)(T,{columnDatum:n,minHeight:"300px",maxHeight:"300px"})})]})]}):(0,c.y2)({valids:null===n||void 0===n?void 0:n.valids,infinite:_(null===n||void 0===n?void 0:n.max)||_(null===n||void 0===n?void 0:n.min),schema_type:null===n||void 0===n?void 0:n.schema_type})})}},12471:function(e,n,t){t.d(n,{t:function(){return c}});var i=t(7615),r=t(94361),o=t(56367),a=t(2448),l=t(3354),s=t(7267),d=t(15887);function c(e){var n=e.columnDatum,t=e.hasAnimation,c=(0,s.Wx)(n),u=!!t&&{};return(0,d.jsxs)(i.kC,{direction:"column",width:"100%",children:[(0,d.jsx)(i.xu,{h:"2em",flexGrow:1,children:c?(0,d.jsx)(o.Wi,{data:c,animation:u}):(0,r.y2)({})}),(0,d.jsxs)(i.xu,{children:[(0,d.jsx)(a.P,{columnDatum:n,width:"100%"}),(0,d.jsx)(l.Q,{columnDatum:n,width:"100%"})]})]})}},20962:function(e,n,t){t.d(n,{E:function(){return l}});var i=t(7615),r=t(94361),o=t(71958),a=t(15887);function l(e){var n=e.columnDatum;return(0,a.jsx)(i.xu,{width:"100%",children:n?(0,a.jsx)(o.Y,{columnDatum:n,width:"100%"}):(0,r.y2)({})})}},84641:function(e,n,t){t.d(n,{M:function(){return s}});var i=t(7615),r=t(94361),o=t(45871),a=t(65717),l=t(15887);function s(e){var n=e.columnDatum,t=n||{},s=t.p50,d=t.max,c=t.min,u=t.p25,h=t.p75;return(0,l.jsx)(i.xu,{minWidth:"0px",width:"100%",children:n?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.xu,{children:(0,l.jsx)(o.UZ,{quantileData:{p50:s,max:d,min:c,p25:u,p75:h}})}),(0,l.jsx)(a.d,{columnDatum:n})]}):(0,r.y2)({})})}},68794:function(e,n,t){t.d(n,{e0:function(){return l.e},gb:function(){return o.gb},Nj:function(){return r.Nj},QN:function(){return a.QN},rH:function(){return a.rH},Se:function(){return a.Se},Jt:function(){return i.Jt},MM:function(){return r.MM},im:function(){return i.ch}});t(89408),t(13344),t(5462),t(45871),t(56367),t(3517),t(88405);var i=t(94361),r=t(70669),o=t(85655),a=(t(62196),t(83129)),l=(t(26564),t(67708),t(12471),t(20962),t(90346));t(84641)},48685:function(e,n,t){t.d(n,{B1:function(){return o.B1},FP:function(){return o.FP},Jt:function(){return i.Jt},MM:function(){return i.MM},Nj:function(){return i.Nj},Se:function(){return i.Se},Uh:function(){return o.Uh},e0:function(){return i.e0},im:function(){return i.im},ll:function(){return o.ll},mq:function(){return r.mq},nq:function(){return o.nq},rH:function(){return i.rH},wC:function(){return o.wC}});var i=t(68794),r=t(82122),o=(t(47768),t(6708),t(1831))}}]);
//# sourceMappingURL=143.2cec3c96.chunk.js.map