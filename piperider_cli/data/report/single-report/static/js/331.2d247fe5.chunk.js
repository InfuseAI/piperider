"use strict";(self.webpackChunk_infuseai_piperider_ui=self.webpackChunk_infuseai_piperider_ui||[]).push([[331],{77592:function(e,i,n){n.r(i),n.d(i,{CRPage:function(){return K},default:function(){return Y}});var t=n(82904),l=n(68794),r=n(55500),o=n(11288),s=n(53182),d=n(1831),a=n(5322),x=n(61431),c=n(7615),u=n(86830),v=n(31756),h=n(12158),j=n(83129),m=n(26564),p=n(82122),f=n(87437),b=n(86629),g=n(50874),C=n(15887);function y(){var e,i,n,t;(0,p.mq)({eventName:d.FP.PAGE_VIEW,eventProperties:{type:d.bB,page:"assertion-list-page"}});var l=(0,v.useState)(""),r=(0,x.Z)(l,2),o=r[0],s=r[1],a=b.n.getState(),y=a.assertionsOnly,w=a.isCloudReport,z=(y||{}).metadata,S=w?g.ee:g.p0;return(0,C.jsxs)(c.xu,{children:[(0,C.jsxs)(u.bZ,{status:"warning",mb:5,children:[(0,C.jsx)(u.zM,{}),(0,C.jsxs)(c.xu,{children:[(0,C.jsx)(u.Cd,{children:"The Assertions page is deprecated and will be removed in the future"}),(0,C.jsxs)(u.X,{fontSize:"sm",children:["If you have a strong need for this page, please contact us by the"," ",(0,C.jsx)(c.rU,{href:S,style:{textDecoration:"underline"},children:"feedback link"}),". Your feedback is important to us. Thank you!"]})]})]}),(0,C.jsx)(c.kC,{w:"100%",children:(0,C.jsx)(c.xv,{fontSize:"xl",fontWeight:"semibold",textAlign:"left",children:"Assertions"})}),(0,C.jsx)(c.kC,{maxW:f.eb-50,w:"100%",mt:5,children:(0,C.jsx)(h.f,{onChange:s,filterString:o})}),(0,C.jsx)(c.kC,{justify:"start",maxW:f.eb-50,w:"100%",my:5,children:(0,C.jsx)(j.z4,{baseAssertionFailed:null===z||void 0===z||null===(e=z.base)||void 0===e?void 0:e.failed,baseAssertionTotal:null===z||void 0===z||null===(i=z.base)||void 0===i?void 0:i.total,targetAssertionFailed:null===z||void 0===z||null===(n=z.target)||void 0===n?void 0:n.failed,targetAssertionTotal:null===z||void 0===z||null===(t=z.target)||void 0===t?void 0:t.total})}),(0,C.jsx)(m.O,{w:f.eb,comparableAssertions:y,filterString:o,setFilterString:s})]})}var w=n(11060),z=n(4911),S=n.n(z),T=n(52912),_=n(44163);function A(){var e,i,n,r;(0,p.mq)({eventName:d.FP.PAGE_VIEW,eventProperties:{type:d.bB,page:"metrics-page"}});var o=d.nq.getState(),s=o.tableColumnsOnly,u=o.rawData,v=(0,t.yj)(a.TQ),h=(0,x.Z)(v,2),j=h[0],m=h[1],f=null!==(e=null===u||void 0===u||null===(i=u.base)||void 0===i?void 0:i.metrics)&&void 0!==e?e:[],b=null!==(n=null===u||void 0===u||null===(r=u.input)||void 0===r?void 0:r.metrics)&&void 0!==n?n:[],g="All metrics",y="All metric queries";if(j){var z=null===m||void 0===m?void 0:m.uniqueId,A=S().find(s,(function(e){return(0,x.Z)(e,1)[0]===z}));if(A){var W,N=(0,x.Z)(A,2)[1],k=N.base,Z=N.target,D=null!==Z&&void 0!==Z?Z:k;f=(null===k||void 0===k?void 0:k.__queries)||[],b=(null===Z||void 0===Z?void 0:Z.__queries)||[],g=null!==(W=null===D||void 0===D?void 0:D.label)&&void 0!==W?W:null===D||void 0===D?void 0:D.name,y=null===D||void 0===D?void 0:D.description}}var F=S().uniq([].concat((0,w.Z)(b.map((function(e){return e.name}))),(0,w.Z)(f.map((function(e){return e.name})))));return(0,C.jsxs)(c.xu,{children:[(0,C.jsxs)(c.kC,{w:"100%",children:[!j&&(0,C.jsx)(c.xv,{fontSize:"xl",fontWeight:"semibold",textAlign:"left",children:"Metrics"}),j&&(0,C.jsx)(l.QN,{subtitle:"Metric",title:g,icon:T.NMh,infoTip:y})]}),(0,C.jsxs)(c.rj,{templateColumns:{base:"1fr",xl:"1fr 1fr"},w:"100%",gap:5,children:[F.map((function(e){var i=f.find((function(i){return i.name===e})),n=b.find((function(i){return i.name===e}));return(0,C.jsx)(c.P4,{children:(0,C.jsx)(_.l,{data:{base:i,target:n}})},e)})),0===F.length&&(0,C.jsxs)(c.xv,{color:"gray.500",children:["No metric queries available. To enable, see"," ",(0,C.jsx)(c.rU,{isExternal:!0,textDecoration:"underline",href:"https://docs.piperider.io/get-started/run/metrics",children:"metrics docs"})]})]})]})}var W=n(12471),N=n(67708),k=n(20962),Z=n(84641),D=n(83512),F=n(7267),P=n(50421);function q(){var e,i,n=(0,a.vs)(),t=null===n||void 0===n?void 0:n.uniqueId,l=decodeURIComponent((null===n||void 0===n?void 0:n.tableName)||""),r=decodeURIComponent((null===n||void 0===n?void 0:n.columnName)||"");(0,p.mq)({eventName:d.FP.PAGE_VIEW,eventProperties:{type:d.bB,page:"column-details-page"}});var o=b.n.getState().tableColumnsOnly,s=void 0===o?[]:o,u=t||"table.".concat(l);if(void 0===u)return(0,C.jsx)(D.J,{text:"No data found for '".concat(u,".").concat(r,"'")});var v=s.find((function(e){return(0,x.Z)(e,1)[0]===u}));if(!v)return(0,C.jsx)(D.J,{text:"No data found for '".concat(u,".").concat(r,"'")});var h=null===(e=v[1].base)||void 0===e?void 0:e.__table,j=null===h||void 0===h?void 0:h.columns,m=j?j[r]:void 0,g=null===(i=v[1].target)||void 0===i?void 0:i.__table,y=null===g||void 0===g?void 0:g.columns,w=y?y[r]:void 0,z=w||m,S=(m||{}).type,T=(w||{}).type;if(!m&&!w)return(0,C.jsx)(D.J,{text:"No profile data found for '".concat(l,".").concat(r,"'")});function _(e){var i=e.title,n=e.Comp;return void 0===m?(0,C.jsxs)(c.xu,{width:"100%",children:[(0,C.jsx)(c.xv,{fontSize:"xl",children:i}),(0,C.jsx)(c.iz,{}),(0,C.jsx)(n,{columnDatum:w})]}):void 0===w?(0,C.jsxs)(c.xu,{width:"100%",children:[(0,C.jsx)(c.xv,{fontSize:"xl",children:i}),(0,C.jsx)(c.iz,{}),(0,C.jsx)(n,{columnDatum:m})]}):(0,C.jsxs)(c.xu,{width:"100%",children:[(0,C.jsxs)(c.rj,{templateColumns:"1fr 1px 1fr",gap:3,children:[(0,C.jsx)(c.xv,{fontSize:"xl",children:i}),(0,C.jsx)(c.iz,{orientation:"vertical"}),(0,C.jsx)(c.xv,{fontSize:"xl",children:i})]}),(0,C.jsx)(c.iz,{}),(0,C.jsxs)(c.rj,{templateColumns:"1fr 1px 1fr",gap:8,minWidth:0,children:[(0,C.jsx)(n,{columnDatum:m}),(0,C.jsx)(c.iz,{orientation:"vertical"}),(0,C.jsx)(n,{columnDatum:w})]})]})}function A(e){var i=e.children;function n(){return(0,C.jsx)(c.xu,{bg:"gray.100",width:"100%",height:"100%",borderWidth:"2px",borderColor:"lightgray"})}return void 0===m?(0,C.jsxs)(c.rj,{templateColumns:"1fr 1px 1fr",gap:3,children:[(0,C.jsx)(n,{}),(0,C.jsx)(c.iz,{orientation:"vertical"}),i]}):void 0===w?(0,C.jsxs)(c.rj,{templateColumns:"1fr 1px 1fr",gap:3,children:[i,(0,C.jsx)(c.iz,{orientation:"vertical"}),(0,C.jsx)(n,{})]}):(0,C.jsx)(C.Fragment,{children:i})}var q=(0,F.MM)(null===z||void 0===z?void 0:z.type),E=q.backgroundColor,B=q.icon;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(P.Q,{title:r,subtitle:null===z||void 0===z?void 0:z.schema_type,infoTip:(null===w||void 0===w?void 0:w.description)||(null===m||void 0===m?void 0:m.description),mb:5,borderBottom:f.dx,icon:B,iconColor:E}),(0,C.jsx)(I,{}),(0,C.jsx)(A,{children:(0,C.jsxs)(c.gC,{spacing:10,children:[(0,C.jsx)(_,{title:"Data Composition",Comp:W.t}),((0,F.jl)(S)||(0,F.jl)(T))&&(0,C.jsx)(_,{title:z?"".concat((0,d.B1)(null===z||void 0===z?void 0:z.type)," Statistics"):"Type Statistics",Comp:k.E}),((0,F.hG)(S)||(0,F.hG)(T))&&(0,C.jsx)(_,{title:"Quantile Data",Comp:Z.M}),(0,C.jsx)(_,{title:"Visualizations",Comp:N.r})]})})]})}function I(){return(0,C.jsx)(c.rj,{templateColumns:"1fr 1fr",mb:2,gap:10,children:["Base","Target"].map((function(e,i){return(0,C.jsx)(c.kC,{alignItems:"center",w:"100%",children:(0,C.jsx)(c.xv,{fontWeight:"semibold",fontSize:"2xl",color:"gray.400",w:"100%",children:e})},i)}))})}var E=n(97348),B=n(24777),R=n(96741),O=n(90346);function M(){var e=(0,a.e$)(),i=e.tableName,n=e.uniqueId;i=decodeURIComponent(i||""),(0,p.mq)({eventName:d.FP.PAGE_VIEW,eventProperties:{type:d.bB,page:"table-details-page"}});var t=b.n.getState().tableColumnsOnly,l=void 0===t?[]:t,r=n||"table.".concat(i),o=l.find((function(e){return(0,x.Z)(e,1)[0]===r}));if(!o)return(0,C.jsx)(D.J,{text:"No data found for table '".concat(r,"'")});var s=(0,x.Z)(o,2)[1],u=s.base,v=s.target,h=v||u,j=null===h||void 0===h?void 0:h.name,m=(null===h||void 0===h?void 0:h.description)||void 0,f=null===u||void 0===u?void 0:u.__table,g=null===v||void 0===v?void 0:v.__table;function y(e){var i=e.title,n=e.Comp;return void 0===f?(0,C.jsxs)(c.xu,{width:"100%",children:[(0,C.jsx)(c.xv,{fontSize:"xl",children:i}),(0,C.jsx)(c.iz,{my:1}),(0,C.jsx)(n,{tableDatum:g})]}):void 0===g?(0,C.jsxs)(c.xu,{width:"100%",children:[(0,C.jsx)(c.xv,{fontSize:"xl",children:i}),(0,C.jsx)(c.iz,{my:1}),(0,C.jsx)(n,{tableDatum:f})]}):(0,C.jsxs)(c.xu,{width:"100%",children:[(0,C.jsxs)(c.rj,{templateColumns:"1fr 1px 1fr",gap:3,children:[(0,C.jsx)(c.xv,{fontSize:"xl",children:i}),(0,C.jsx)(c.iz,{orientation:"vertical"}),(0,C.jsx)(c.xv,{fontSize:"xl",children:i})]}),(0,C.jsx)(c.iz,{my:1}),(0,C.jsxs)(c.rj,{templateColumns:"1fr 1px 1fr",gap:3,children:[(0,C.jsx)(n,{tableDatum:f}),(0,C.jsx)(c.iz,{orientation:"vertical"}),(0,C.jsx)(n,{tableDatum:g})]})]})}function w(e){var i=e.title,n=e.children;function t(){return void 0===f||void 0===g?(0,C.jsx)(c.xv,{fontSize:"xl",children:i}):(0,C.jsxs)(c.rj,{templateColumns:"1fr 1px 1fr",gap:3,children:[(0,C.jsx)(c.xv,{fontSize:"xl",children:i}),(0,C.jsx)(c.iz,{orientation:"vertical"}),(0,C.jsx)(c.xv,{fontSize:"xl",children:i})]})}return(0,C.jsxs)(c.xu,{width:"100%",children:[(0,C.jsx)(t,{}),(0,C.jsx)(c.iz,{my:1}),n]})}function z(e){var i=e.children;function n(){return(0,C.jsx)(c.xu,{bg:"gray.100",width:"100%",height:"100%",borderWidth:"2px",borderColor:"lightgray"})}return void 0===f?(0,C.jsxs)(c.rj,{templateColumns:"1fr 1px 1fr",gap:3,children:[(0,C.jsx)(n,{}),(0,C.jsx)(c.iz,{orientation:"vertical"}),i]}):void 0===g?(0,C.jsxs)(c.rj,{templateColumns:"1fr 1px 1fr",gap:3,children:[i,(0,C.jsx)(c.iz,{orientation:"vertical"}),(0,C.jsx)(n,{})]}):(0,C.jsx)(C.Fragment,{children:i})}return void 0===g&&void 0===f?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(P.Q,{title:j,subtitle:"Table",mb:5,infoTip:m}),(0,C.jsx)(D.J,{text:"No schema data found. The table or view may not be available in the data source."})]}):(0,C.jsxs)(c.xu,{children:[(0,C.jsx)(P.Q,{title:j,subtitle:"Table",mb:5,infoTip:m}),(0,C.jsx)(G,{}),(0,C.jsx)(z,{children:(0,C.jsxs)(c.gC,{spacing:10,children:[(0,C.jsx)(y,{title:"Table Statistics",Comp:R.S}),(0,C.jsx)(w,{title:"Schema",children:(0,C.jsx)(J,{tableEntry:o})}),(0,C.jsx)(y,{title:"Duplicate Rows",Comp:O.e})]})})]})}function G(){return(0,C.jsxs)(c.rj,{templateColumns:"1fr 1px 1fr",gap:3,mb:10,children:[(0,C.jsx)(c.kC,{alignItems:"center",w:"100%",children:(0,C.jsx)(c.xv,{fontWeight:"semibold",fontSize:"2xl",color:"gray.400",w:"100%",children:"Base"})}),(0,C.jsx)(c.iz,{}),(0,C.jsx)(c.kC,{alignItems:"center",w:"100%",children:(0,C.jsx)(c.xv,{fontWeight:"semibold",fontSize:"2xl",color:"gray.400",w:"100%",children:"Target"})})]})}function J(e){var i=e.tableEntry,n=(0,x.Z)(i,2)[1],t=n.base,l=n.target,r=l||t,o=function(){return(0,C.jsx)(c.kC,{direction:"column",width:"100%",children:(0,C.jsx)(E.xJ,{width:"100%",children:(0,C.jsxs)(E.iA,{variant:"simple",children:[(0,C.jsx)(E.hr,{children:(0,C.jsxs)(E.Tr,{children:[(0,C.jsx)(E.Th,{width:"25%",children:"Base Column"}),(0,C.jsx)(E.Th,{width:"25%",borderRight:"1px",borderRightColor:"gray.200",children:"Base Type"}),(0,C.jsx)(E.Th,{width:"25%",children:"Traget Column"}),(0,C.jsx)(E.Th,{width:"25%",children:"Target Type"})]})}),(0,C.jsx)(E.p3,{children:null===r||void 0===r?void 0:r.__columns.map((function(e){var i,n,t,l,r,o,s=(0,x.Z)(e,3),d=s[0],a=s[1],u=a.base,v=a.target,h=s[2];return(0,C.jsxs)(E.Tr,{_hover:{bg:"blackAlpha.50",cursor:"inherit"},"data-cy":"table-list-schema-item",children:[(0,C.jsx)(E.Td,{color:null!==h&&void 0!==h&&h.mismatched?"red.500":"inherit",maxW:"350px",children:(0,C.jsx)(c.xv,{as:"span",fontSize:"xs",noOfLines:1,whiteSpace:"normal",title:null!==(i=null===u||void 0===u?void 0:u.name)&&void 0!==i?i:B.Nj,children:null!==(n=null===u||void 0===u?void 0:u.name)&&void 0!==n?n:B.Nj})}),(0,C.jsx)(E.Td,{color:null!==h&&void 0!==h&&h.mismatched?"red.500":"inherit",borderRight:"1px",borderRightColor:"gray.200",children:(0,C.jsx)(c.xv,{as:"span",fontSize:"xs",children:null!==(t=null===u||void 0===u?void 0:u.schema_type)&&void 0!==t?t:B.Nj})}),(0,C.jsx)(E.Td,{color:null!==h&&void 0!==h&&h.mismatched?"red.500":"inherit",whiteSpace:"normal",children:(0,C.jsx)(c.xv,{fontSize:"xs",as:"span",noOfLines:1,whiteSpace:"normal",title:null!==(l=null===v||void 0===v?void 0:v.name)&&void 0!==l?l:B.Nj,children:null!==(r=null===v||void 0===v?void 0:v.name)&&void 0!==r?r:B.Nj})}),(0,C.jsx)(E.Td,{color:null!==h&&void 0!==h&&h.mismatched?"red.500":"inherit",children:(0,C.jsx)(c.xv,{as:"span",fontSize:"xs",children:null!==(o=null===v||void 0===v?void 0:v.schema_type)&&void 0!==o?o:B.Nj})})]},d)}))})]})})})},s=function(){return(0,C.jsx)(c.kC,{direction:"column",width:"100%",children:(0,C.jsx)(E.xJ,{width:"100%",children:(0,C.jsxs)(E.iA,{variant:"simple",children:[(0,C.jsx)(E.hr,{children:(0,C.jsxs)(E.Tr,{children:[(0,C.jsx)(E.Th,{width:"50%",children:"Column"}),(0,C.jsx)(E.Th,{width:"50%",children:"Type"})]})}),(0,C.jsx)(E.p3,{children:null===r||void 0===r?void 0:r.__columns.map((function(e){var i,n,t,l=(0,x.Z)(e,3),r=l[0],o=l[1],s=o.base,d=o.target,a=(l[2],s||d);return(0,C.jsxs)(E.Tr,{_hover:{bg:"blackAlpha.50",cursor:"inherit"},"data-cy":"table-list-schema-item",children:[(0,C.jsx)(E.Td,{maxW:"350px",children:(0,C.jsx)(c.xv,{as:"span",fontSize:"xs",noOfLines:1,whiteSpace:"normal",title:null!==(i=null===a||void 0===a?void 0:a.name)&&void 0!==i?i:B.Nj,children:null!==(n=null===a||void 0===a?void 0:a.name)&&void 0!==n?n:B.Nj})}),(0,C.jsx)(E.Td,{children:(0,C.jsx)(c.xv,{as:"span",fontSize:"xs",children:null!==(t=null===a||void 0===a?void 0:a.schema_type)&&void 0!==t?t:B.Nj})})]},r)}))})]})})})};return void 0===(null===t||void 0===t?void 0:t.name)||void 0===(null===l||void 0===l?void 0:l.name)?(0,C.jsx)(s,{}):(0,C.jsx)(o,{})}var Q=n(82175),V=n(85939),U=n(33660),L=n(24236),X=n(95282),$=n(93354);function H(){var e,i,n,t,l;(0,p.mq)({eventName:X.FP.PAGE_VIEW,eventProperties:{type:X.bB,page:"table-list-page"}});var r,o=(0,U.qY)(),s=(0,v.useState)(-1),d=(0,x.Z)(s,2),a=d[0],u=d[1],h=b.n.getState(),j=h.tableColumnsOnly,m=void 0===j?[]:j,g=h.assertionsOnly,y=h.isLegacy,w=S().sortBy(m,(function(e){var i,n=(0,x.Z)(e,2)[1],t=n.base,l=n.target,r=null!==l&&void 0!==l?l:t;return null===r||void 0===r||null===(i=r.__table)||void 0===i?void 0:i.name}));if(-1!==a){var z=(0,x.Z)(w[a],2)[1],T=z.base,_=z.target;r=null!==_&&void 0!==_?_:T}return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(c.kC,{direction:"column",w:"100%",minHeight:"650px",children:[(0,C.jsx)(c.kC,{w:"100%",children:(0,C.jsx)(c.xv,{fontSize:"xl",fontWeight:"semibold",textAlign:"left",children:"Tables"})}),(0,C.jsxs)(c.rj,{templateColumns:f.Dp,maxW:f.xD,px:4,my:6,children:[(0,C.jsx)(c.xv,{children:"Name"}),(0,C.jsx)(c.xv,{children:"Summary"}),(0,C.jsx)(c.xv,{children:"Assertions"})]}),w.map((function(e,i){var n=(0,x.Z)(e,2)[1],t=n.base,l=n.target,r=null!==t&&void 0!==t?t:l;return null!==r&&void 0!==r&&r.__table&&(y||"table"!==(null===r||void 0===r?void 0:r.resource_type))?(0,C.jsx)(c.kC,{children:(0,C.jsx)(V.h,{combinedAssertions:g,combinedTableEntry:e,onInfoClick:function(){u(i),o.onOpen()}})},i):(0,C.jsx)(C.Fragment,{})}))]}),(0,C.jsxs)($.W,(0,Q.Z)((0,Q.Z)({},o),{},{size:"2xl",title:null===(e=r)||void 0===e||null===(i=e.__table)||void 0===i?void 0:i.name,onClose:function(){u(-1),o.onClose()},children:[(0,C.jsxs)(c.xv,{fontSize:"lg",mb:4,children:["Description:"," ",(null===(n=r)||void 0===n||null===(t=n.__table)||void 0===t?void 0:t.description)||(0,C.jsx)(c.xv,{as:"i",children:"No description provided."})]}),-1!==a&&(0,C.jsx)(L.r,{columns:null===(l=r)||void 0===l?void 0:l.__columns})]}))]})}function K(e){var i=e.data,n=e.cloud,x=e.sideNavTop,c=void 0===x?"0px":x;return(0,d.nq)((function(e){return e.setReportRawData}))(i),(0,C.jsx)(t.F0,{hook:s.w,children:(0,C.jsx)(t.rs,{children:(0,C.jsx)(r.$,{cloud:n,sideNavTop:c,children:(0,C.jsxs)(t.rs,{children:[(0,C.jsx)(t.AW,{path:a.bw,children:(0,C.jsx)(H,{})}),(0,C.jsx)(t.AW,{path:a.KX,children:(0,C.jsx)(H,{})}),(0,C.jsx)(t.AW,{path:a.KX,children:(0,C.jsx)(H,{})}),(0,C.jsx)(t.AW,{path:a.WF,children:(0,C.jsx)(M,{})}),(0,C.jsx)(t.AW,{path:a.t3,children:(0,C.jsx)(q,{})}),(0,C.jsx)(t.AW,{path:a.mo,children:(0,C.jsx)(M,{})}),(0,C.jsx)(t.AW,{path:a.n3,children:(0,C.jsx)(q,{})}),(0,C.jsx)(t.AW,{path:a.d2,children:(0,C.jsx)(M,{})}),(0,C.jsx)(t.AW,{path:a.Sx,children:(0,C.jsx)(q,{})}),(0,C.jsx)(t.AW,{path:a.iB,children:(0,C.jsx)(M,{})}),(0,C.jsx)(t.AW,{path:a.dF,children:(0,C.jsx)(q,{})}),(0,C.jsx)(t.AW,{path:a.$n,children:(0,C.jsx)(y,{})}),(0,C.jsx)(t.AW,{path:a.xH,children:(0,C.jsx)(A,{})}),(0,C.jsx)(t.AW,{path:a.TQ,children:(0,C.jsx)(A,{})}),(0,C.jsx)(t.AW,{path:a.Mu,children:(0,C.jsx)(l.gb,{})}),(0,C.jsx)(t.AW,{children:(0,C.jsx)(o.T,{})})]})})})})}var Y=K}}]);
//# sourceMappingURL=331.2d247fe5.chunk.js.map